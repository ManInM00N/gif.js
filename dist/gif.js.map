{"version":3,"names":["f","exports","module","define","amd","window","global","self","this","GIF","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","EventEmitter","_events","_maxListeners","undefined","isFunction","arg","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","key","listenerCount","evlistener","emitter","UA","browser","mode","platform","ua","navigator","userAgent","toLowerCase","match","document","documentMode","name","version","parseFloat","parseInt","superClass","defaults","frameDefaults","options","base","value","running","frames","freeWorkers","activeWorkers","setOptions","child","parent","hasProp","ctor","constructor","__super__","workerScript","workers","repeat","background","quality","width","height","transparent","debug","dither","delay","copy","dispose","setOption","_canvas","results","addFrame","image","frame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","_this","Math","min","forEach","Worker","onmessage","event","indexOf","frameFinished","index","finishRendering","k","l","len1","len2","len3","len4","offset","page","ref1","ref2","ref3","pageSize","cursor","round","Uint8Array","set","Blob","task","getTask","postMessage","ctx","createElement","getContext","fillStyle","fillRect","drawImage","last","canTransfer"],"sources":["node_modules/browser-pack/_prelude.js","node_modules/events/events.js","src/browser.coffee","src/gif.coffee"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","### CoffeeScript version of the browser detection from MooTools ###\r\n\r\nua = navigator.userAgent.toLowerCase()\r\nplatform = navigator.platform.toLowerCase()\r\nUA = ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/) or [null, 'unknown', 0]\r\nmode = UA[1] == 'ie' && document.documentMode\r\n\r\nbrowser =\r\n  name: if UA[1] is 'version' then UA[3] else UA[1]\r\n  version: mode or parseFloat(if UA[1] is 'opera' && UA[4] then UA[4] else UA[2])\r\n\r\n  platform:\r\n    name: if ua.match(/ip(?:ad|od|hone)/) then 'ios' else (ua.match(/(?:webos|android)/) or platform.match(/mac|win|linux/) or ['other'])[0]\r\n\r\nbrowser[browser.name] = true\r\nbrowser[browser.name + parseInt(browser.version, 10)] = true\r\nbrowser.platform[browser.platform.name] = true\r\n\r\nmodule.exports = browser\r\n","{EventEmitter} = require 'events'\r\nbrowser = require './browser.coffee'\r\n\r\nclass GIF extends EventEmitter\r\n\r\n  defaults =\r\n    workerScript: 'gif.worker.js'\r\n    workers: 2\r\n    repeat: 0 # repeat forever, -1 = repeat once\r\n    background: '#fff'\r\n    quality: 10 # pixel sample interval, lower is better\r\n    width: null # size derermined from first frame if possible\r\n    height: null\r\n    transparent: null\r\n    debug: false\r\n    dither: false # see GIFEncoder.js for dithering options\r\n\r\n  frameDefaults =\r\n    delay: 500 # ms\r\n    copy: false\r\n    dispose: -1\r\n\r\n  constructor: (options) ->\r\n    @running = false\r\n\r\n    @options = {}\r\n    @frames = []\r\n\r\n    @freeWorkers = []\r\n    @activeWorkers = []\r\n\r\n    @setOptions options\r\n    for key, value of defaults\r\n      @options[key] ?= value\r\n\r\n  setOption: (key, value) ->\r\n    @options[key] = value\r\n    if @_canvas? and key in ['width', 'height']\r\n      @_canvas[key] = value\r\n\r\n  setOptions: (options) ->\r\n    @setOption key, value for own key, value of options\r\n\r\n  addFrame: (image, options={}) ->\r\n    frame = {}\r\n    frame.transparent = @options.transparent\r\n    for key of frameDefaults\r\n      frame[key] = options[key] or frameDefaults[key]\r\n\r\n    # use the images width and height for options unless already set\r\n    @setOption 'width', image.width unless @options.width?\r\n    @setOption 'height', image.height unless @options.height?\r\n\r\n    if ImageData? and image instanceof ImageData\r\n       frame.data = image.data\r\n    else if (CanvasRenderingContext2D? and image instanceof CanvasRenderingContext2D) or (WebGLRenderingContext? and image instanceof WebGLRenderingContext)\r\n      if options.copy\r\n        frame.data = @getContextData image\r\n      else\r\n        frame.context = image\r\n    else if image.childNodes?\r\n      if options.copy\r\n        frame.data = @getImageData image\r\n      else\r\n        frame.image = image\r\n    else\r\n      throw new Error 'Invalid image'\r\n\r\n    @frames.push frame\r\n\r\n  render: ->\r\n    throw new Error 'Already running' if @running\r\n\r\n    if not @options.width? or not @options.height?\r\n      throw new Error 'Width and height must be set prior to rendering'\r\n\r\n    @running = true\r\n    @nextFrame = 0\r\n    @finishedFrames = 0\r\n\r\n    @imageParts = (null for i in [0...@frames.length])\r\n    numWorkers = @spawnWorkers()\r\n    # we need to wait for the palette\r\n    if @options.globalPalette == true\r\n      @renderNextFrame()\r\n    else\r\n      @renderNextFrame() for i in [0...numWorkers]\r\n\r\n    @emit 'start'\r\n    @emit 'progress', 0\r\n\r\n  abort: ->\r\n    loop\r\n      worker = @activeWorkers.shift()\r\n      break unless worker?\r\n      @log 'killing active worker'\r\n      worker.terminate()\r\n    @running = false\r\n    @emit 'abort'\r\n\r\n  # private\r\n\r\n  spawnWorkers: ->\r\n    numWorkers = Math.min(@options.workers, @frames.length)\r\n    [@freeWorkers.length...numWorkers].forEach (i) =>\r\n      @log \"spawning worker #{ i }\"\r\n      worker = new Worker @options.workerScript\r\n      worker.onmessage = (event) =>\r\n        @activeWorkers.splice @activeWorkers.indexOf(worker), 1\r\n        @freeWorkers.push worker\r\n        @frameFinished event.data\r\n      @freeWorkers.push worker\r\n    return numWorkers\r\n\r\n  frameFinished: (frame) ->\r\n    @log \"frame #{ frame.index } finished - #{ @activeWorkers.length } active\"\r\n    @finishedFrames++\r\n    @emit 'progress', @finishedFrames / @frames.length\r\n    @imageParts[frame.index] = frame\r\n    # remember calculated palette, spawn the rest of the workers\r\n    if @options.globalPalette == true\r\n      @options.globalPalette = frame.globalPalette\r\n      @log 'global palette analyzed'\r\n      @renderNextFrame() for i in [1...@freeWorkers.length] if @frames.length > 2\r\n    if null in @imageParts\r\n      @renderNextFrame()\r\n    else\r\n      @finishRendering()\r\n\r\n  finishRendering: ->\r\n    len = 0\r\n    for frame in @imageParts\r\n      len += (frame.data.length - 1) * frame.pageSize + frame.cursor\r\n    len += frame.pageSize - frame.cursor\r\n    @log \"rendering finished - filesize #{ Math.round(len / 1000) }kb\"\r\n    data = new Uint8Array len\r\n    offset = 0\r\n    for frame in @imageParts\r\n      for page, i in frame.data\r\n        data.set page, offset\r\n        if i is frame.data.length - 1\r\n          offset += frame.cursor\r\n        else\r\n          offset += frame.pageSize\r\n\r\n    image = new Blob [data],\r\n      type: 'image/gif'\r\n\r\n    # 释放 worker 内存\r\n    for worker in @freeWorkers when worker?\r\n        @log 'terminating worker'\r\n        worker.terminate()\r\n    @freeWorkers = []\r\n\r\n    @running = false\r\n\r\n    @emit 'finished', image, data\r\n\r\n  renderNextFrame: ->\r\n    throw new Error 'No free workers' if @freeWorkers.length is 0\r\n    return if @nextFrame >= @frames.length # no new frame to render\r\n\r\n    frame = @frames[@nextFrame++]\r\n    worker = @freeWorkers.shift()\r\n    task = @getTask frame\r\n\r\n    @log \"starting frame #{ task.index + 1 } of #{ @frames.length }\"\r\n    @activeWorkers.push worker\r\n    worker.postMessage task#, [task.data.buffer]\r\n\r\n  getContextData: (ctx) ->\r\n    return ctx.getImageData(0, 0, @options.width, @options.height).data\r\n\r\n  getImageData: (image) ->\r\n    if not @_canvas?\r\n      @_canvas = document.createElement 'canvas'\r\n      @_canvas.width = @options.width\r\n      @_canvas.height = @options.height\r\n\r\n    ctx = @_canvas.getContext '2d'\r\n    ctx.fillStyle = @options.background\r\n    ctx.fillRect 0, 0, @options.width, @options.height\r\n    ctx.drawImage image, 0, 0\r\n\r\n    return @getContextData ctx\r\n\r\n  getTask: (frame) ->\r\n    index = @frames.indexOf frame\r\n    task =\r\n      index: index\r\n      last: index is (@frames.length - 1)\r\n      delay: frame.delay\r\n      dispose: frame.dispose\r\n      transparent: frame.transparent\r\n      width: @options.width\r\n      height: @options.height\r\n      quality: @options.quality\r\n      dither: @options.dither\r\n      globalPalette: @options.globalPalette\r\n      repeat: @options.repeat\r\n      canTransfer: (browser.name is 'chrome')\r\n\r\n    if frame.data?\r\n      task.data = frame.data\r\n    else if frame.context?\r\n      task.data = @getContextData frame.context\r\n    else if frame.image?\r\n      task.data = @getImageData frame.image\r\n    else\r\n      throw new Error 'Invalid frame'\r\n\r\n    return task\r\n\r\n  log: (args...) ->\r\n    return unless @options.debug\r\n    console.log args...\r\n\r\n\r\nmodule.exports = GIF\r\n"],"mappings":"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","ignoreList":[]}